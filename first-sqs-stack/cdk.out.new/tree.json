{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.206.0"},"children":{"FirstSqsStack":{"id":"FirstSqsStack","path":"FirstSqsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.206.0"},"children":{"OrdersDLQ":{"id":"OrdersDLQ","path":"FirstSqsStack/OrdersDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.206.0","metadata":[{"queueName":"*","removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"queueName":"FirstSqsStack-orders-dlq"}}}}},"OrdersTable":{"id":"OrdersTable","path":"FirstSqsStack/OrdersTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.206.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"destroy","pointInTimeRecovery":false}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"orderId","attributeType":"S"},{"attributeName":"timestamp","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"orderId","keyType":"HASH"},{"attributeName":"timestamp","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":false},"tableName":"FirstSqsStack-orders"}}},"ScalingRole":{"id":"ScalingRole","path":"FirstSqsStack/OrdersTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":["*"]}}}},"OrdersQueue":{"id":"OrdersQueue","path":"FirstSqsStack/OrdersQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.206.0","metadata":[{"visibilityTimeout":"*","queueName":"*","removalPolicy":"destroy","deadLetterQueue":{"queue":"*","maxReceiveCount":"*"}}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"queueName":"FirstSqsStack-orders-queue","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["OrdersDLQ8E8CD9EE","Arn"]},"maxReceiveCount":3},"visibilityTimeout":30}}}}},"OrderProducer":{"id":"OrderProducer","path":"FirstSqsStack/OrderProducer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.206.0","metadata":[{"runtime":"*","entry":"*","handler":"*","functionName":"*","environment":"*","code":"*"},{},{"runtime":"*","entry":"*","handler":"*","functionName":"*","environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"FirstSqsStack/OrderProducer/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.206.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"FirstSqsStack/OrderProducer/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"FirstSqsStack/OrderProducer/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"FirstSqsStack/OrderProducer/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.206.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrderProducer/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:SendMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OrdersQueue3DFA1D51","Arn"]}}],"Version":"2012-10-17"},"policyName":"OrderProducerServiceRoleDefaultPolicyD9BF09A0","roles":[{"Ref":"OrderProducerServiceRole71E18628"}]}}}}}}},"Code":{"id":"Code","path":"FirstSqsStack/OrderProducer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.206.0"},"children":{"Stage":{"id":"Stage","path":"FirstSqsStack/OrderProducer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.206.0"}},"AssetBucket":{"id":"AssetBucket","path":"FirstSqsStack/OrderProducer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.206.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"FirstSqsStack/OrderProducer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"e5fb78c5b9b457d7147645dd5a4ebb42893a7821505dbaf989fdf8d2da4f43ca.zip"},"environment":{"variables":{"QUEUE_URL":{"Ref":"OrdersQueue3DFA1D51"}}},"functionName":"FirstSqsStack-producer","handler":"index.producer","role":{"Fn::GetAtt":["OrderProducerServiceRole71E18628","Arn"]},"runtime":"nodejs22.x"}}},"LogGroup":{"id":"LogGroup","path":"FirstSqsStack/OrderProducer/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.206.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrderProducer/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"OrderProducer72B63B2C"}]]},"retentionInDays":731}}}}}}},"OrderConsumer":{"id":"OrderConsumer","path":"FirstSqsStack/OrderConsumer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.206.0","metadata":[{"runtime":"*","entry":"*","handler":"*","functionName":"*","environment":"*","code":"*"},{},{"runtime":"*","entry":"*","handler":"*","functionName":"*","environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"FirstSqsStack/OrderConsumer/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.206.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"FirstSqsStack/OrderConsumer/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"FirstSqsStack/OrderConsumer/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"FirstSqsStack/OrderConsumer/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.206.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrderConsumer/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},{"Ref":"AWS::NoValue"}]},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["OrdersQueue3DFA1D51","Arn"]}}],"Version":"2012-10-17"},"policyName":"OrderConsumerServiceRoleDefaultPolicy48F77500","roles":[{"Ref":"OrderConsumerServiceRole0EEFE051"}]}}}}}}},"Code":{"id":"Code","path":"FirstSqsStack/OrderConsumer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.206.0"},"children":{"Stage":{"id":"Stage","path":"FirstSqsStack/OrderConsumer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.206.0"}},"AssetBucket":{"id":"AssetBucket","path":"FirstSqsStack/OrderConsumer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.206.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"FirstSqsStack/OrderConsumer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"e5fb78c5b9b457d7147645dd5a4ebb42893a7821505dbaf989fdf8d2da4f43ca.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"OrdersTable315BB997"}}},"functionName":"FirstSqsStack-consumer","handler":"index.consumer","role":{"Fn::GetAtt":["OrderConsumerServiceRole0EEFE051","Arn"]},"runtime":"nodejs22.x"}}},"LogGroup":{"id":"LogGroup","path":"FirstSqsStack/OrderConsumer/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.206.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrderConsumer/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"OrderConsumer4A54EDB6"}]]},"retentionInDays":731}}}}},"SqsEventSource:FirstSqsStackOrdersQueueEF5AD995":{"id":"SqsEventSource:FirstSqsStackOrdersQueueEF5AD995","path":"FirstSqsStack/OrderConsumer/SqsEventSource:FirstSqsStackOrdersQueueEF5AD995","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.206.0","metadata":[{"target":"*","batchSize":"*","maxBatchingWindow":"*","maxConcurrency":"*","reportBatchItemFailures":"*","enabled":"*","eventSourceArn":"*","filters":"*","filterEncryption":"*","metricsConfig":"*"}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrderConsumer/SqsEventSource:FirstSqsStackOrdersQueueEF5AD995/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":10,"eventSourceArn":{"Fn::GetAtt":["OrdersQueue3DFA1D51","Arn"]},"functionName":{"Ref":"OrderConsumer4A54EDB6"}}}}}}}},"OrdersAPI":{"id":"OrdersAPI","path":"FirstSqsStack/OrdersAPI","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.206.0","metadata":[{"defaultCorsPreflightOptions":{"allowOrigins":"*","allowMethods":"*","allowHeaders":"*"}}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersAPI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"OrdersAPI"}}},"Deployment":{"id":"Deployment","path":"FirstSqsStack/OrdersAPI/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.206.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersAPI/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"OrdersAPIE0C0828E"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"FirstSqsStack/OrdersAPI/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.206.0","metadata":[{"deployment":"*"}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersAPI/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"OrdersAPIDeployment1AD9B4532ae544413c6bff11b113896783845bdd"},"restApiId":{"Ref":"OrdersAPIE0C0828E"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"FirstSqsStack/OrdersAPI/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"Default":{"id":"Default","path":"FirstSqsStack/OrdersAPI/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.206.0","metadata":["*"]},"children":{"OPTIONS":{"id":"OPTIONS","path":"FirstSqsStack/OrdersAPI/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.206.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersAPI/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["OrdersAPIE0C0828E","RootResourceId"]},"restApiId":{"Ref":"OrdersAPIE0C0828E"}}}}}},"orders":{"id":"orders","path":"FirstSqsStack/OrdersAPI/Default/orders","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.206.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersAPI/Default/orders/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["OrdersAPIE0C0828E","RootResourceId"]},"pathPart":"orders","restApiId":{"Ref":"OrdersAPIE0C0828E"}}}},"OPTIONS":{"id":"OPTIONS","path":"FirstSqsStack/OrdersAPI/Default/orders/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.206.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersAPI/Default/orders/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"OrdersAPIordersCD17E3B7"},"restApiId":{"Ref":"OrdersAPIE0C0828E"}}}}}},"POST":{"id":"POST","path":"FirstSqsStack/OrdersAPI/Default/orders/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.206.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.FirstSqsStackOrdersAPIF953DA7E.POST..orders":{"id":"ApiPermission.FirstSqsStackOrdersAPIF953DA7E.POST..orders","path":"FirstSqsStack/OrdersAPI/Default/orders/POST/ApiPermission.FirstSqsStackOrdersAPIF953DA7E.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrderProducer72B63B2C","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"OrdersAPIE0C0828E"},"/",{"Ref":"OrdersAPIDeploymentStageprod454ADC6B"},"/POST/orders"]]}}}},"ApiPermission.Test.FirstSqsStackOrdersAPIF953DA7E.POST..orders":{"id":"ApiPermission.Test.FirstSqsStackOrdersAPIF953DA7E.POST..orders","path":"FirstSqsStack/OrdersAPI/Default/orders/POST/ApiPermission.Test.FirstSqsStackOrdersAPIF953DA7E.POST..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["OrderProducer72B63B2C","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"OrdersAPIE0C0828E"},"/test-invoke-stage/POST/orders"]]}}}},"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersAPI/Default/orders/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["OrderProducer72B63B2C","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"OrdersAPIordersCD17E3B7"},"restApiId":{"Ref":"OrdersAPIE0C0828E"}}}}}},"GET":{"id":"GET","path":"FirstSqsStack/OrdersAPI/Default/orders/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.206.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.FirstSqsStackOrdersAPIF953DA7E.GET..orders":{"id":"ApiPermission.FirstSqsStackOrdersAPIF953DA7E.GET..orders","path":"FirstSqsStack/OrdersAPI/Default/orders/GET/ApiPermission.FirstSqsStackOrdersAPIF953DA7E.GET..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetOrdersF7276A9F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"OrdersAPIE0C0828E"},"/",{"Ref":"OrdersAPIDeploymentStageprod454ADC6B"},"/GET/orders"]]}}}},"ApiPermission.Test.FirstSqsStackOrdersAPIF953DA7E.GET..orders":{"id":"ApiPermission.Test.FirstSqsStackOrdersAPIF953DA7E.GET..orders","path":"FirstSqsStack/OrdersAPI/Default/orders/GET/ApiPermission.Test.FirstSqsStackOrdersAPIF953DA7E.GET..orders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetOrdersF7276A9F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"OrdersAPIE0C0828E"},"/test-invoke-stage/GET/orders"]]}}}},"Resource":{"id":"Resource","path":"FirstSqsStack/OrdersAPI/Default/orders/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetOrdersF7276A9F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"OrdersAPIordersCD17E3B7"},"restApiId":{"Ref":"OrdersAPIE0C0828E"}}}}}}}}}}}},"GetOrders":{"id":"GetOrders","path":"FirstSqsStack/GetOrders","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.206.0","metadata":[{"runtime":"*","entry":"*","handler":"*","functionName":"*","environment":"*","code":"*"},{},{"runtime":"*","entry":"*","handler":"*","functionName":"*","environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"FirstSqsStack/GetOrders/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.206.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"FirstSqsStack/GetOrders/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"FirstSqsStack/GetOrders/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"FirstSqsStack/GetOrders/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.206.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/GetOrders/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["OrdersTable315BB997","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"GetOrdersServiceRoleDefaultPolicyE09BB125","roles":[{"Ref":"GetOrdersServiceRoleDD8D80BE"}]}}}}}}},"Code":{"id":"Code","path":"FirstSqsStack/GetOrders/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.206.0"},"children":{"Stage":{"id":"Stage","path":"FirstSqsStack/GetOrders/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.206.0"}},"AssetBucket":{"id":"AssetBucket","path":"FirstSqsStack/GetOrders/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.206.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"FirstSqsStack/GetOrders/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"e5fb78c5b9b457d7147645dd5a4ebb42893a7821505dbaf989fdf8d2da4f43ca.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"OrdersTable315BB997"}}},"functionName":"FirstSqsStack-get-orders","handler":"index.getOrders","role":{"Fn::GetAtt":["GetOrdersServiceRoleDD8D80BE","Arn"]},"runtime":"nodejs22.x"}}},"LogGroup":{"id":"LogGroup","path":"FirstSqsStack/GetOrders/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.206.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"FirstSqsStack/GetOrders/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"GetOrdersF7276A9F"}]]},"retentionInDays":731}}}}}}},"ApiUrl":{"id":"ApiUrl","path":"FirstSqsStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"FirstSqsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"FirstSqsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}},"Condition":{"id":"Condition","path":"FirstSqsStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.206.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"FirstSqsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.206.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"FirstSqsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.206.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}